@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .month_green_cell_inner{
        cursor: pointer;
    }

    .month_green_cell_inner:hover {
        font-size: larger;
        color: #47A477;
        background-color: #d9f9e9;
    }

    .table-wrapper-scroll-y {
        display: block;
    }

    .my-custom-scrollbar {
        position: relative;
        height: 400px !important;
        overflow: auto;
        border: none;
        width: 100%;
    }

    th {
	    position: sticky;
	    position: -webkit-sticky;
	    top: 0px;
	    z-index: 2;
    }

    .select2-container .select2-selection {
        height: 34px;
    }

    .select2-container--default .select2-selection--single .select2-selection__rendered {
        color: #444;
        line-height: 32px;
    }

    .tabs-container .nav-tabs > li.active > a, .tabs-container .nav-tabs > li.active > a:hover, .tabs-container .nav-tabs > li.active > a:focus {
        background-color: #1ab394;
        color: white;
    }

    
    .hospital-sched {
        position: absolute;
        width: 5px;
        height: 5px;
        border-radius: 150px;
        bottom: 3px;
        left: calc(50% - 1.5px);
        content: " ";
        display: block;
        background: #f64747;
    }

</style>

<link href="~/Content/Daypilot-Calendar/demo/themes/month_traditional.css" rel="stylesheet" />
<link href="~/Content/Flatpickr-DatePicker/flatpickr.min.css" rel="stylesheet" />

<div ng-controller="MedConCtrl">
    <!-- HEADER -->
    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-lg-6">
            <h2>Medical Consultation</h2>
            <ol class="breadcrumb">
                <li>
                    <a href="">Medicon</a>
                </li>
                <li class="active">
                    <strong>Medical Consultation</strong>
                </li>
            </ol>
        </div>
        <div class="col-lg-6" style="margin-top:30px; text-align:end;">
            <button class="btn" ng-class="showMedicalRecord == false ? 'btn-success':'btn-primary'" ng-show="!showClientList && !showRx" ng-click="getBPhistory()" ng-disabled="qrData.qrCode == undefined ? true : false">
                <i class="fa" ng-class="showMedicalRecord == false ? 'fa-stethoscope':'fa-list'"></i> {{showMedicalRecord == false ? 'Diagnose':'Medical Records'}}
            </button>
            <button class="btn" ng-class="showMedicalRecord == false ? 'btn-success':'btn-primary'" ng-show="!showClientList && (!showMedicalRecord || showRx)" ng-click="returnToHome()" ng-disabled="qrData.qrCode == undefined ? true : false">
                <i class="fa" ng-class="showMedicalRecord == false ? 'fa-medkit':'fa-list'"></i> {{showMedicalRecord == false ? 'Prescription':'Medical Records'}}
            </button>
            <button class="btn" ng-class="showClientList == false ? 'btn-primary':'btn-danger'" ng-show="showClientListBTN && !showMedicalRecord" ng-click="showDiagnoseList()"><i class="fa" ng-class="showClientList == false ? 'fa-list':'fa-angle-double-left'"></i> {{showClientList == false ? 'Patient List':'Back'}} </button>
        </div>
    </div>
    <!-- /HEADER -->

    <div class="wrapper wrapper-content ">
        <div ng-show="!showClientList">
            <!-- QR CODE INFO FORM -->
            <div class="animated fadeInRight ecommerce">
                <div class="ibox float-e-margins">
                    <div class="ibox-title text-center">
                        <label class="text-center">QR CODE INFORMATION</label>
                    </div>
                    <div class="ibox-content">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" ng-show="!showMedicalRecord">
                                <div class="profile_img">
                                    <!-- Current avatar -->
                                    <video id="preview" class="img-responsive avatar-view" style="width: 400px; height: 100%;" />
                                </div>
                                <form name="qrSearchForm">
                                    <div class="input-group" style="margin-top: 10px; margin-bottom: -10px;">
                                        <input type="text" class="form-control border-green" ng-model="searchQRcode" placeholder="Search by QR code number" style="width:100%;" required>
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-success" ng-disabled="qrSearchForm.$invalid" ng-click="mainSearch(searchQRcode)"> Find <i class="fa fa-qrcode"></i></button>
                                        </span>
                                    </div>
                                </form>
                                <br />
                                <button class="btn btn-warning full-width" ng-click="searchByName()"><i class="fa fa-search"></i> Search by name</button>
                                <br />
                            </div>
                            <div ng-class="showMedicalRecord ? 'col-lg-12 col-md-12 col-sm-12 col-xs-12' : 'col-lg-9 col-md-9 col-sm-12 col-xs-12'">
                                <div class="text-center" ng-show="loader" style="margin-top: 10%;">
                                    <div class="sk-spinner sk-spinner-double-bounce">
                                        <div class="sk-double-bounce1"></div>
                                        <div class="sk-double-bounce2"></div>
                                    </div>
                                    <text><i>Please wait, we are getting your data...</i></text>
                                </div>
                                <div ng-show="!loader">
                                    <form id="QR_FORM" name="QR_FORM">
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <div class="form-group">
                                                    <label class="control-label" for="qr_lastName">Last name</label>
                                                    <input type="text" id="qr_lastName" name="qr_lastName" required ng-model="qrData.lastName" placeholder="Last name" class="form-control text-center" ng-disabled="!isEditting" />
                                                </div>
                                            </div>
                                            <div class="col-sm-4">
                                                <div class="form-group">
                                                    <label class="control-label" for="qr_firstName">First name</label>
                                                    <input type="text" id="qr_firstName" name="qr_firstName" required ng-model="qrData.firstName" placeholder="First name" class="form-control text-center" ng-disabled="!isEditting" />
                                                </div>
                                            </div>
                                            <div class="col-sm-2">
                                                <div class="form-group">
                                                    <label class="control-label" for="qr_mi">Middle name</label>
                                                    <input type="text" id="qr_mi" name="qr_mi" ng-model="qrData.middleName" placeholder="Middle name" class="form-control text-center" ng-disabled="!isEditting" />
                                                </div>
                                            </div>
                                            <div class="col-sm-2">
                                                <div class="form-group">
                                                    <label class="control-label" for="qr_suffix">Suffix</label>
                                                    <input type="text" id="qr_suffix" name="qr_suffix" ng-model="qrData.extName" placeholder="Suffix" class="form-control text-center" ng-disabled="!isEditting" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <div class="form-group">
                                                    <label class="control-label" for="qr_birthdate">Birthday</label>
                                                    <input type="date" id="qr_birthdate" name="qr_birthdate" required ng-model="qrData.birthdate" class="form-control text-center" ng-disabled="!isEditting" />
                                                </div>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Sex</label>
                                                <div class="form-group text-center">
                                                    <div class="radio radio-primary radio-inline">
                                                        <input type="radio" id="radio_sex_male" value="true" name="radio_sex" ng-model="qrData.sex" disabled />
                                                        <label for="radio_sex_male"> Male </label>
                                                    </div>
                                                    <div class="radio radio-danger radio-inline">
                                                        <input type="radio" id="radio_sex_female" value="false" name="radio_sex" ng-model="qrData.sex" disabled />
                                                        <label for="radio_sex_female"> Female </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-4">
                                                <div class="form-group">
                                                    <label class="control-label" for="qr_contactNo">Contact no.</label>
                                                    <input type="text" id="qr_contactNo" name="qr_contactNo" required ng-model="qrData.contactNo" placeholder="Contact no." class="form-control text-center" ng-disabled="!isEditting" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label class="control-label" for="qr_address">Address</label>
                                                    <input type="text" id="qr_address" name="qr_address" required ng-model="qrData.fullAddress" placeholder="Address" class="form-control text-center" ng-disabled="!isEditting" />
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /QR CODE INFO FORM -->
            <!-- MEDICAL RECORDS -->
            <div class="animated fadeInRight ecommerce" ng-show="!showRx  && !showMedicalRecord">
                    <div class="tabs-container" style="height: 500px">

                        <ul class="nav nav-tabs">
                            <li class="active"><a data-toggle="tab" href="#tab-MD"><i class="fa fa-stethoscope"></i> Diagnosis </a></li>
                            <li class=""><a data-toggle="tab" href="#tab-MP"><i class="fa fa-medkit"></i> Prescription</a></li>
                            <li class=""><a data-toggle="tab" href="#tab-Lab"><i class="fa fa-eyedropper"></i> Laboratory</a></li>
                        </ul>
                        <div class="tab-content ">
                            <div id="tab-MD" class="tab-pane active">
                                <div class="panel-body">
                                    <div class="table-wrapper-scroll-y my-custom-scrollbar">
                                        <table class="table table-stripped table-hover table-bordered" style="width: 100%;">
                                            <thead>
                                                <tr>
                                                    <th class="text-center" style="color: #1ab394;">#</th>
                                                    <th style="color: #1ab394;">Diagnosis Date & Time</th>
                                                    <th style="color: #1ab394;">Physician</th>
                                                    <th style="color: #1ab394;">Service</th>
                                                    <th style="color: #1ab394;">Refer to Health Facility</th>
                                                    <th style="color: #1ab394;">Remarks</th>
                                                    <th style="color: #1ab394;">Diagnosis</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="text-center" ng-show="medicalRecord_loader">
                                                    <td colspan="7">
                                                        <div class="sk-spinner sk-spinner-double-bounce">
                                                            <div class="sk-double-bounce1"></div>
                                                            <div class="sk-double-bounce2"></div>
                                                        </div>
                                                        <text><i>Please wait, we are loading your data...</i></text>
                                                    </td>
                                                </tr>
                                                <tr class="text-center" ng-show="diagnoseHistoryList.length == 0 && medicalRecord_loader == false">
                                                    <td colspan="7">
                                                        <label class="text-danger">NO INFORMATION FOUND!</label>
                                                    </td>
                                                </tr>
                                                <tr ng-repeat="dh in diagnoseHistoryList | orderBy: '-dateTimeLog'">
                                                    <td class="text-center">{{$index + 1}}</td>
                                                    <td>{{dh[0].dateTimeLog}}</td>
                                                    <td>Dr. {{dh[0].physician[0].personnel_firstName}} {{dh[0].physician[0].personnel_midInit}} {{dh[0].physician[0].personnel_lastName}} {{dh[0].physician[0].personnel_extName}}</td>
                                                    <td>{{dh[0].serviceName}}</td>
                                                    <td>{{dh[0].outsideReferral}}</td>
                                                    <td>{{dh[0].remarks}}</td>
                                                    <td>
                                                        <table class="table table-stripped" style="width: 100%;">
                                                            <tbody>
                                                                <tr ng-repeat="diag in dh">
                                                                    <td>{{diag.diagnoseName}}</td>
                                                                    <td>{{diag.otherDiagnosis}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div id="tab-MP" class="tab-pane">
                                <div class="panel-body">
                                    <div class="table-wrapper-scroll-y my-custom-scrollbar">
                                        <table class="table table-stripped table-hover table-bordered" style="width: 100%;">
                                            <thead>
                                                <tr>
                                                    <th class="text-center" style="color: #1ab394;">#</th>
                                                    <th style="color: #1ab394;">Physician</th>
                                                    <th style="color: #1ab394;">Rx Date & Time</th>
                                                    <th style="color: #1ab394;">Service</th>
                                                    <th class="text-center" style="color: #1ab394;">Action</th>
                                                    <th style="color: #1ab394;">Prescription/s</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="text-center" ng-show="medicalRecord_loader">
                                                    <td colspan="6">
                                                        <div class="sk-spinner sk-spinner-double-bounce">
                                                            <div class="sk-double-bounce1"></div>
                                                            <div class="sk-double-bounce2"></div>
                                                        </div>
                                                        <text><i>Please wait, we are loading your data...</i></text>
                                                    </td>
                                                </tr>
                                                <tr class="text-center" ng-show="rxHistoryList.length == 0 && medicalRecord_loader == false">
                                                    <td colspan="6">
                                                        <label class="text-danger">NO INFORMATION FOUND!</label>
                                                    </td>
                                                </tr>
                                                <tr ng-repeat="rx in rxHistoryList | orderBy: '-dateTimeRx' track by $index">
                                                    <td class="text-center">{{$index + 1}}</td>
                                                    <td>Dr. {{rx[0].physician[0].personnel_firstName}} {{rx[0].physician[0].personnel_midInit}} {{rx[0].physician[0].personnel_lastName}} {{rx[0].physician[0].personnel_extName}}</td>
                                                    <td>{{rx[0].dateTimeRx}}</td>
                                                    <td>{{rx[0].serviceName}}</td>
                                                    <td class="text-center"><button class="btn btn-primary btn-xs" ng-click="printRx(rx[0], rx.length)"> Print <i class="fa fa-print"></i></button></td>
                                                    <td>
                                                        <table class="table table-stripped" style="width: 100%;">
                                                            <thead>
                                                                <tr style="font-weight: bold;">
                                                                    <td>Medicine Name</td>
                                                                    <td>Frequency</td>
                                                                    <td># Days</td>
                                                                    <td>Qty</td>
                                                                    <td>Note/Instruction</td>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="med in rx">
                                                                    <td>{{med.productDesc}} {{med.measurementDesc}}</td>
                                                                    <td>{{med.dosage}} {{med.unitDesc}} x {{med.perDay}} a Day</td>
                                                                    <td>{{med.noDay == 'maintenance' ? 'as Maintenance':med.noDay == 'needed' ? 'as Needed':med.noDay == 'single' ? 'Single Dose':med.noDay + ' Day/s'}}</td>
                                                                    <td>{{med.qtyRx}} {{med.unitDesc == 'Suspension' || med.unitDesc == 'Syrup' || med.unitDesc == 'Drops' || med.unitDesc == 'Bottle' ? 'Bottle/s':med.unitDesc == 'Cream' ? 'Tube':''}}</td>
                                                                    <td>{{med.note}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div id="tab-Lab" class="tab-pane">
                                <div class="panel-body">
                                    <div class="table-wrapper-scroll-y my-custom-scrollbar">
                                        <table class="table table-stripped table-hover table-bordered" style="width: 100%;">
                                            <thead>
                                                <tr>
                                                    <th class="text-center" style="color: #1ab394;">#</th>
                                                    <th style="color: #1ab394;">Test</th>
                                                    <th style="color: #1ab394;" class="text-center">Service</th>
                                                    <th style="color: #1ab394;" class="text-center">Tested</th>
                                                    <th style="color: #1ab394;" class="text-center">Date & Time Tested</th>
                                                    <th style="color: #1ab394;" class="text-center">With Result</th>
                                                    <th style="color: #1ab394;" class="text-center">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="text-center" ng-show="medHistLoader_modal">
                                                    <td colspan="7">
                                                        <div class="sk-spinner sk-spinner-double-bounce">
                                                            <div class="sk-double-bounce1"></div>
                                                            <div class="sk-double-bounce2"></div>
                                                        </div>
                                                        <text><i>Please wait, we are loading your data...</i></text>
                                                    </td>
                                                </tr>
                                                <tr class="text-center" ng-show="labHistoryList.length == 0 && bpLoader == false">
                                                    <td colspan="7">
                                                        <label class="text-danger">NO INFORMATION FOUND!</label>
                                                    </td>
                                                </tr>
                                                <tr ng-repeat="dh in labHistoryList | orderBy: '-dateTested'">
                                                    <td class="text-center">{{$index + 1}}</td>
                                                    <td>
                                                        {{dh.labTestID == 'L0004' ? dh.labTestName + ' (' + dh.ecgDesc + ')' :
                                                        dh.labTestID == 'L0006' ? dh.labTestName + ' (' + dh.xrayDesc + ')' :
                                                        dh.labTestID == 'L0023' ? dh.labTestName + ' (' + dh.ultrasoundDesc + ')' : dh.labTestName}}
                                                    </td>
                                                    <td class="text-center">{{dh.MRDiagnosisID == null ? dh.ConsultServiceName : dh.refServiceName}}</td>
                                                    <td class="text-center">{{dh.isTested == true ? 'Yes':'No'}}</td>
                                                    <td class="text-center">{{dh.dateTested == 'Invalid date' ? '':dh.dateTested}}</td>
                                                    <td class="text-center">
                                                        <p><span class="badge" ng-class="dh.isEncoded == true ? 'badge-info' : 'badge-danger'">{{dh.isEncoded == true ? 'Yes' : 'No'}}</span></p>
                                                    </td>
                                                    <td class="text-center"><button class="btn btn-primary btn-sm" ng-disabled="!dh.isEncoded" ng-click="viewLabResult(dh)"> Show </button></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
            </div>
            <!-- /MEDICAL RECORDS -->

            <div ng-show="showMedicalRecord && !showRx">
                <div class="animated fadeInRight ecommerce">
                    <div class="row">
                        <!-- VITAL SIGNS HISTORY -->
                        <div class="col-sm-4">
                            <div class="panel panel-success" style="height: 100%;">
                                <div class="panel-heading text-center">
                                    <label class="text-center">VITAL SIGNS INFORMATION</label>
                                </div>
                                <div class="panel-body">
                                    <div class="row">
                                        <div class="col-xs-6">
                                            <div class="input-group m-b"><span class="input-group-addon" style="font-weight: 700;">Height</span> <input type="text" class="form-control text-center" ng-model="vitalSigns.height" readonly style="font-weight: 700;"></div>
                                        </div>
                                        <div class="col-xs-6">
                                            <div class="input-group m-b"><span class="input-group-addon" style="font-weight: 700;">Weight</span> <input type="text" class="form-control text-center" ng-model="vitalSigns.weight" readonly style="font-weight: 700;"></div>
                                        </div>
                                        <div class="col-xs-12">
                                            <div class="input-group m-b"><span class="input-group-addon" style="font-weight: 700;">Age</span> <input type="text" class="form-control text-center" ng-model="qrData.age" readonly style="font-weight: 700;"></div>
                                        </div>
                                        <div class="col-xs-12">
                                            <div class="input-group m-b">
                                                <span class="input-group-addon" style="font-weight: 700;">BMI</span>
                                                <input type="text" class="form-control text-center" ng-class="BMI.desc == 'UNDERWEIGHT' ? 'text-success' : BMI.desc == 'NORMAL' ? 'text-primary' : BMI.desc == 'OVERWEIGHT' ? 'text-warning' : 'text-danger'" ng-model="BMI.data" readonly style="font-weight: 700;">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="table-wrapper-scroll-y my-custom-scrollbar">
                                        <table class="table table-stripped">
                                            <thead>
                                                <tr>

                                                    <th class="">#</th>
                                                    <th>Temp.</th>
                                                    <th>BP</th>
                                                    <th>Pulse Rate</th>
                                                    <th>Date & Time</th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="text-center" ng-show="bpLoader">
                                                    <td colspan="6">
                                                        <div class="sk-spinner sk-spinner-double-bounce">
                                                            <div class="sk-double-bounce1"></div>
                                                            <div class="sk-double-bounce2"></div>
                                                        </div>
                                                        <text><i>Please wait, we are loading your data...</i></text>
                                                    </td>
                                                </tr>
                                                <tr class="text-center" ng-show="bpHistoryList.length == 0 && bpLoader == false">
                                                    <td colspan="6">
                                                        <label class="text-danger">NO INFORMATION FOUND!</label>
                                                    </td>
                                                </tr>
                                                <tr ng-repeat="vs in bpHistoryList">
                                                    <td>{{$index + 1}}</td>
                                                    <td>{{vs.temperature}}</td>
                                                    <td>{{vs.systolic}}/{{vs.diastolic}}</td>
                                                    <td>{{vs.pulseRate}}</td>
                                                    <td>{{vs.dateTimeLog }}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /VITAL SIGNS HISTORY -->
                        <!--  DIAGNOSIS  -->
                        <div class="col-sm-8">
                            <div class="panel panel-info">
                                <div class="panel-heading text-center">
                                    <label class="text-center">DIAGNOSIS</label>
                                </div>
                                <div class="panel-body">
                                    <form id="diagnosis_form" name="diagnosis_form">
                                        <!--  ILLNESS CHECKBOX  -->
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div class="col-sm-6 col-xs-6">
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG005" value="Gastritis" ng-model="diagnose.DIAG005">
                                                        <label for="DIAG005"> Acute Gastritis </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG006" value="Gastroenteritis" ng-model="diagnose.DIAG006">
                                                        <label for="DIAG006"> Acute Gastroenteritis </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG018" value="Tonsillopharyngitis" ng-model="diagnose.DIAG018">
                                                        <label for="DIAG018"> Acute Tonsillopharyngitis </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG003" value="Rhinitis" ng-model="diagnose.DIAG003">
                                                        <label for="DIAG003"> Allergic Rhinitis </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG008" value="Amoebiasis" ng-model="diagnose.DIAG008">
                                                        <label for="DIAG008"> Amoebiasis </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG021" value="Arthritis" ng-model="diagnose.DIAG021">
                                                        <label for="DIAG021"> Arthritis </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG010" value="BPH" ng-model="diagnose.DIAG010">
                                                        <label for="DIAG010"> BPH </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG004" value="Asthma" ng-model="diagnose.DIAG004">
                                                        <label for="DIAG004"> Bronchial Asthma </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG011" value="Dermatitis" ng-model="diagnose.DIAG011">
                                                        <label for="DIAG011"> Contact Dermatitis </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG014" value="Diabetes" ng-model="diagnose.DIAG014">
                                                        <label for="DIAG014"> Diabetes Mellitus </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG012" value="Eczema" ng-model="diagnose.DIAG012">
                                                        <label for="DIAG012"> Eczema </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG020" value="Furuncle" ng-model="diagnose.DIAG020">
                                                        <label for="DIAG020"> Furuncle/Carbuncle </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG028" value="Gastritis" ng-model="diagnose.DIAG028">
                                                        <label for="DIAG028"> Gastritis </label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6 col-xs-6">
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG007" value="GERD" ng-model="diagnose.DIAG007">
                                                        <label for="DIAG007"> GERD </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG015" value="Hyperlipidemia" ng-model="diagnose.DIAG015">
                                                        <label for="DIAG015"> Hyperlipidemia </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG013" value="Hypertension" ng-model="diagnose.DIAG013">
                                                        <label for="DIAG013"> Hypertension </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG016" value="Hyperuricemia" ng-model="diagnose.DIAG016">
                                                        <label for="DIAG016"> Hyperuricemia </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG019" value="spasm" ng-model="diagnose.DIAG019">
                                                        <label for="DIAG019"> Musculoskeletal spasm </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG022" value="Neuropathy" ng-model="diagnose.DIAG022">
                                                        <label for="DIAG022"> Peripheral Neuropathy </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG002" value="Pneumonia" ng-model="diagnose.DIAG002">
                                                        <label for="DIAG002"> Pneumonia </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG026" value="SystemicIllness" ng-model="diagnose.DIAG026">
                                                        <label for="DIAG026"> Systemic Viral Illness </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG017" value="Headache" ng-model="diagnose.DIAG017">
                                                        <label for="DIAG017"> Tension Headache </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG027" value="Tuberculosis" ng-model="diagnose.DIAG027">
                                                        <label for="DIAG027"> Tuberculosis </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG025" value="LowRespiratory" ng-model="diagnose.DIAG025">
                                                        <label for="DIAG025"> Lower Respiratory Tract Infection </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG001" value="Respiratory" ng-model="diagnose.DIAG001">
                                                        <label for="DIAG001"> Upper Respiratory Tract Infection </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG009" value="Urinary" ng-model="diagnose.DIAG009">
                                                        <label for="DIAG009"> Urinary Tract Infection </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div class="col-lg-4 col-md-4">
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG023" value="Others" ng-model="diagnose.DIAG023" ng-change="diagnose.DIAG023 == false ? diagnoseInfo.otherDiagnosis = '':''">
                                                        <label for="DIAG023"> Others </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-8 col-md-8">
                                                    <div class="form-group">
                                                        <input type="text" id="otherDiagnosis" name="otherDiagnosis" ng-model="diagnoseInfo.otherDiagnosis" ng-disabled="diagnose.DIAG023 == false || diagnose.DIAG023 == undefined" placeholder="Identify diagnosis here..." class="form-control" ng-required="diagnose.DIAG023" />
                                                    </div>
                                                </div>
                                                <div class="form-group col-lg-12 col-md-12">
                                                    <label class="control-label" for="remarks">Remarks</label>
                                                    <input type="text" id="remarks" name="remarks" ng-model="diagnoseRemarks" placeholder="Remarks here..." class="form-control" />
                                                </div>
                                            </div>
                                        </div>
                                        <!--  /ILLNESS CHECKBOX  -->
                                        <br />
                                        <div class="row">
                                            <!--  REFERRAL CHECKBOX  -->
                                            <div class="col-lg-12">
                                                <label class="lazur-bg text-center" style="width: 100%;"> REFERRAL </label>
                                            </div>
                                            @*<div class="col-lg-12">
                                <div class="col-lg-4 col-md-4">
                                    <div class="checkbox checkbox-danger">
                                        <input type="checkbox" id="SERVICE003" value="SERVICE003" ng-model="referral.SERVICE003">
                                        <label for="SERVICE003"> Diet Counseling </label>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-4">
                                    <div class="checkbox checkbox-danger">
                                        <input type="checkbox" id="SERVICE004" value="SERVICE004" ng-model="referral.SERVICE004">
                                        <label for="SERVICE004"> Male Reproductive Health </label>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-4">
                                    <div class="checkbox checkbox-danger">
                                        <input type="checkbox" id="SERVICE005" value="SERVICE005" ng-model="referral.SERVICE005">
                                        <label for="SERVICE005"> Papsmear & Breast Exam </label>
                                    </div>
                                </div>
                            </div>
                            <br />*@
                                            <div class="col-lg-12">
                                                <div class="col-lg-4 col-md-4">
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="DIAG024" value="Refer" ng-model="diagnose.DIAG024" ng-change="diagnose.DIAG024 == false ? diagnoseInfo.referDesc = '':''">
                                                        <label for="DIAG024"> Refer to Health Facility </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-8 col-md-8">
                                                    <div class="form-group">
                                                        <input type="text" id="referDesc" name="referDesc" ng-model="diagnoseInfo.referDesc" ng-disabled="diagnose.DIAG024 == false || diagnose.DIAG024 == undefined" placeholder="Identify referral info here..." class="form-control" ng-required="diagnose.DIAG024" />
                                                    </div>
                                                </div>
                                            </div>
                                            <!--  /REFERRAL CHECKBOX  -->
                                            <!--  LABORATORY CHECKBOX  -->
                                            <div class="col-lg-12">
                                                <label class="lazur-bg text-center" style="width: 100%;"> LABORATORY </label>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="col-lg-3 col-md-3">
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="L0002" value="L0002" ng-model="labtest.L0002" ng-checked="checkLab(labtest)">
                                                        <label for="L0002"> CBC </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="L0001" value="L0001" ng-model="labtest.L0001">
                                                        <label for="L0001"> Urinalysis </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="L0003" value="L0003" ng-model="labtest.L0003">
                                                        <label for="L0003"> Fecalysis </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-3 col-md-3">
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="L0005" value="L0005" ng-model="labtest.L0005">
                                                        <label for="L0005"> FBS </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="L0009" value="L0009" ng-model="labtest.L0009">
                                                        <label for="L0009"> Creatinine </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="L0007" value="L0007" ng-model="labtest.L0007">
                                                        <label for="L0007"> Lipid Profile </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-3 col-md-3">
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="L0010" value="L0010" ng-model="labtest.L0010">
                                                        <label for="L0010"> Uric Acid </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="L0011" value="L0011" ng-model="labtest.L0011">
                                                        <label for="L0011"> SGPT </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="L0012" value="L0012" ng-model="labtest.L0012">
                                                        <label for="L0012"> SGOT </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-3 col-md-3">
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="L0008" value="L0008" ng-model="labtest.L0008">
                                                        <label for="L0008"> Serum Electrolytes </label>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="L0025" value="L0025" ng-model="labtest.L0025">
                                                        <label for="L0025"> HbA1c </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <hr style="margin: 7px 0px 15px 0px;" />
                                                </div>
                                                <div class="col-lg-6 col-md-6">
                                                    <div class="row">
                                                        <div class="col-lg-4 col-md-4">
                                                            <div class="checkbox checkbox-danger">
                                                                <input type="checkbox" id="L0006" value="L0006" ng-model="labtest.L0006" ng-change="labtest.L0006 == false ? xrayDesc = '':''">
                                                                <label for="L0006"> X-ray </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-8 col-md-8">
                                                            <div class="form-group">
                                                                <input type="text" id="xrayDesc" name="xrayDesc" ng-model="xrayDesc" ng-disabled="labtest.L0006 == false || labtest.L0006 == undefined" placeholder="Identify other x-ray here..." class="form-control" ng-required="labtest.L0006" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-4 col-md-4">
                                                            <div class="checkbox checkbox-danger">
                                                                <input type="checkbox" id="L0004" value="L0004" ng-model="labtest.L0004" ng-change="labtest.L0004 == false ? ecgDesc = '':''">
                                                                <label for="L0004"> ECG </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-8 col-md-8">
                                                            <div class="form-group">
                                                                <input type="text" id="ecgDesc" name="ecgDesc" ng-model="ecgDesc" ng-disabled="labtest.L0004 == false || labtest.L0004 == undefined" placeholder="Identify other ECG here..." class="form-control" ng-required="labtest.L0004" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6">
                                                    <div class="row">
                                                        <div class="col-lg-4 col-md-4">
                                                            <div class="checkbox checkbox-danger">
                                                                <input type="checkbox" id="L0023" value="L0023" ng-model="labtest.L0023" ng-change="labtest.L0023 == false ? ultrasoundDesc = '':''">
                                                                <label for="L0023"> Ultrasound </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-8 col-md-8">
                                                            <div class="form-group">
                                                                <input type="text" id="ultrasoundDesc" name="ultrasoundDesc" ng-model="ultrasoundDesc" ng-disabled="labtest.L0023 == false || labtest.L0023 == undefined" placeholder="Identify other Ultrasound here..." class="form-control" ng-required="labtest.L0023" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="L0024" value="L0024" ng-model="labtest.L0024">
                                                        <label for="L0024"> 2D Echocardiography </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <hr style="margin: 7px 0px 15px 0px;" />
                                                </div>
                                                <div ng-show="checkLabList > 0">
                                                    <div ng-class="labSchedInfo.hospitalID == 'HPL004' ? 'col-lg-12 col-md-12 col-sm-12 col-xs-12' : 'col-lg-8 col-md-8 col-sm-12 col-xs-12'">
                                                        <div class="form-group">
                                                            <label class="control-label" for="hospitalID">Hospital</label>
                                                            <select name="hospitalID" id="hospitalID" style="width: 100%; text-transform : uppercase" ng-model="labSchedInfo.hospitalID" ng-change="selectHospital(labSchedInfo.hospitalID, false)" class="form-control" ng-required="checkLabList > 0">
                                                                <option value="">- Select Hospital -</option>
                                                                <option ng-repeat="item in hospitalList" value="{{item.hospitalID}}">{{item.hospitalName}}</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div ng-show="labSchedInfo.hospitalID != 'HPL004'" class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                                        <div class="form-group">
                                                            <label class="control-label" for="labSchedule">Lab Schedule</label>
                                                            <div class="datePicker flatpickr">
                                                                <div class="input-group">
                                                                    <input style="background-color: white !important;" type="text" class="form-control" placeholder="Select Date.." ng-model="labSchedInfo.labSchedule" data-input> <span class="input-group-btn">
                                                                        <button id="btnClearSched" type="button" class="btn btn-default" title="clear" data-clear>
                                                                            <i class="fa fa-close text-danger"></i>
                                                                        </button>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--  /LABORATORY CHECKBOX  -->

                                        </div>
                                        <hr class="hr-line-dashed" style="margin: 15px;" />
                                        <div class="row">
                                            <div class="col-sm-12 col-xs-12">
                                                <button class="btn btn-info pull-right" type="submit" ng-click="!diagnosis_form.$invalid ? saveDiagnosis(referral, diagnose, diagnoseInfo, diagnoseRemarks, labtest, labSchedInfo, xrayDesc, ecgDesc, ultrasoundDesc):''"><i class="fa fa-user-md"></i> Save Diagnosis </button>
                                            </div>
                                        </div>

                                    </form>
                                </div>
                            </div>
                        </div>
                        <!--  /DIAGNOSIS  -->
                    </div>
                </div>
            </div>

            <!-- MEDICAL PRESCRIPTION -->
            <div class="animated fadeInRight ecommerce" ng-show="showRx">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <div class="panel panel-primary">
                            <div class="panel-heading text-center">
                                <label class="text-center">DRUGS & MEDICINES</label><a id="refetchMeds" ng-click="refetchMeds()" style="float: right; font-size: medium; color: white;"><i class="fa fa-refresh"></i></a>
                            </div>
                            <div class="panel-body">
                                <form id="prescription_form" name="prescription_form" novalidate>
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12">
                                            <div class="form-group">
                                                <label class="control-label" for="productCode">Name</label>
                                                <select name="productCode" id="productCode" style="width: 100%; text-transform : uppercase" class="form-control" required>
                                                    <option value=""></option>
                                                    <option ng-repeat="med in medList" value="{{med}}">{{med.productDesc}} {{med.measurementDesc}} {{med.unitDesc}}</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label" for="dosage">Frequency</label>
                                        <div class="form-inline">
                                            <div class="input-group m-b" style="width: 100%">
                                                <input type="number" min="0.01" step="0.01" id="dosage" name="dosage" required ng-model="meds.dosage" placeholder="e.g. 10" class="form-control text-center" />
                                                <span class="input-group-addon"><b>{{unit.unitDesc == 'Suspension' || unit.unitDesc == 'Syrup' || unit.unitDesc == 'Drops' ? 'ML':unit.unitDesc == 'Tablet' || unit.unitDesc == 'Softgel' ? 'Tablet/s':unit.unitDesc == 'Capsule' ? 'Capsule/s':unit.unitDesc == 'Nebule'? unit.unitDesc:unit.unitDesc == 'Cream' ? 'Apply':unit.unitDesc == 'Respule' ? unit.unitDesc:unit.unitDesc == 'Sachet' ? unit.unitDesc:unit.unitDesc}}</b></span>
                                            </div>
                                            <div class="input-group m-b" style="width: 100%">
                                                <input type="number" min="1" onkeydown="return event.keyCode !== 190" id="perDay" name="perDay" required ng-model="meds.perDay" placeholder="e.g. 5" class="form-control text-center" /> <span class="input-group-addon"><i class="fa fa-times text-danger"></i><b> a Day</b></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label" for="noDay">No. of Days</label>
                                        <select name="noDay" id="noDay" style="width: 100%; text-transform : uppercase" class="form-control" required>
                                            <option value=""></option>
                                            <option value="maintenance">As Maintenance</option>
                                            <option value="needed">As Needed</option>
                                            <option value="single">Single Dose</option>
                                            <option value=1>1 Day</option>
                                            <option value=2>2 Days</option>
                                            <option value=3>3 Days</option>
                                            <option value=4>4 Days</option>
                                            <option value=5>5 Days</option>
                                            <option value=7>7 Days</option>
                                            <option value=10>10 Days</option>
                                            <option value=14>14 Days</option>
                                        </select>
                                    </div>
                                    <div ng-show="showRxQty" class="form-group">
                                        <label class="control-label" for="noDay">Qty</label>
                                        <div class="input-group m-b col-lg-5" style="width: 100%">
                                            <input type="number" min="1" step="1" id="inputQTY" name="inputQTY" ng-model="meds.inputQTY" placeholder="e.g. 10" class="form-control  text-center" ng-required="showRxQty" />
                                            <span class="input-group-addon"><b>{{unit.unitDesc == 'Suspension' || unit.unitDesc == 'Syrup' || unit.unitDesc == 'Drops' || unit.unitDesc == 'Bottle' ? 'Bottle/s':unit.unitDesc == 'Tablet' || unit.unitDesc == 'Softgel' ? 'Tablet/s':unit.unitDesc == 'Capsule' ? 'Capsule/s':unit.unitDesc == 'Nebule'? unit.unitDesc:unit.unitDesc == 'Cream' ? 'Apply':unit.unitDesc == 'Respule' ? unit.unitDesc:unit.unitDesc == 'Sachet' ? unit.unitDesc:''}}</b></span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label" for="note">Note/Instruction</label>
                                        <input type="text" id="note" name="note" ng-model="meds.note" class="form-control text-center" />
                                    </div>
                                    <button class="btn btn-success pull-right " type="submit" ng-disabled="prescription_form.$invalid" ng-click="addMedicine(meds)"><i class="fa fa-plus"></i> Add to Rx </button>
                                </form>
                            </div>

                        </div>
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <div class="panel panel-primary">
                            <div class="panel-heading text-center">
                                <label class="text-center">MEDICAL PRESCRIPTION</label>
                            </div>
                            <div class="panel-body">
                                <div class="table-wrapper-scroll-y my-custom-scrollbar">
                                    <table class="table table-stripped table-hover" style="width: 100%;">
                                        <thead>
                                            <tr>

                                                <th class="">#</th>
                                                <th>Name</th>
                                                <th>Frequency</th>
                                                <th># Days</th>
                                                <th>Qty</th>
                                                <th>Note/Instruction</th>
                                                <th class="text-right">Action</th>

                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="item in RxList">
                                                <td>{{$index + 1}}</td>
                                                <td><b>{{item.productDesc}}</b></td>
                                                <td>
                                                    {{item.dosage}}
                                                    {{item.unitDesc == 'Suspension' || item.unitDesc == 'Syrup' || item.unitDesc == 'Drops' ? 'ML':item.unitDesc == 'Tablet' || item.unitDesc == 'Softgel' ? 'Tablet/s':item.unitDesc == 'Capsule' ? 'Capsule/s':item.unitDesc == 'Nebule'? item.unitDesc:item.unitDesc == 'Cream' ? 'Apply':item.unitDesc == 'Respule' ? item.unitDesc:item.unitDesc == 'Sachet' ? 'Sachet dilluted in 240ml water':''}},
                                                    {{item.perDay}} x a Day
                                                </td>
                                                <td>{{item.noDay == 'maintenance' ? 'as Maintenance':item.noDay == 'needed' ? 'as Needed':item.noDay == 'single' ? 'Single Dose':item.noDay + ' Day/s'}}</td>
                                                <td><b>{{item.qtyRx}} {{item.unitDesc == 'Suspension' || item.unitDesc == 'Syrup' || item.unitDesc == 'Drops' || item.unitDesc == 'Bottle' ? 'Bottle/s':item.unitDesc == 'Cream' ? 'Tube':''}}</b></td>
                                                <td>{{item.note}}</td>
                                                 <td class="text-right">
                                                    <div class="btn-group">
                                                        <button class="btn-danger btn btn-xs" ng-click="removeMedicine($index)"> Remove <i class="fa fa-trash"></i></button>
                                                    </div>
                                                </td>   
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <button class="btn btn-info pull-right" type="submit" ng-disabled="RxList.length == 0" ng-click="savePrescription()"><i class="fa fa-medkit"></i> Save Rx </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- MEDICAL PRESCRIPTION -->
        </div>

        <!-- PATIENT LIST FOR CURRENT DAY -->
        <div class="animated fadeInRight ecommerce" ng-show="showClientList">
            <div class="row">
                <form class="form-horizontal">
                    <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12">
                        <label style="margin-top: 5px;">Consultation Date:</label>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                        <input type="date" id="FilterDate" ng-change="filterResult(FilterDate)" name="FilterDate" style="text-transform:uppercase" ng-model="FilterDate" class="text-center form-control">
                    </div>
                </form>
            </div>
            <br />
            <div class="ibox float-e-margins">
                <div class="ibox-title text-center">
                    <label class="text-center">LIST OF DIAGNOSE PATIENTS</label>
                </div>
                <div class="ibox-content">
                    <div class="table-wrapper-scroll-y my-custom-scrollbar">
                        <table id="diagnoseList_tbl" class="table table-stripped table-hover" style="width: 100%;">
                            <thead>
                                <tr>

                                    <th>#</th>
                                    <th>Last name</th>
                                    <th>First name</th>
                                    <th>M.I.</th>
                                    <th>Suffix</th>
                                    <th>Sex</th>
                                    <th>Age</th>
                                    <th>Office</th>
                                    <th>Physician</th>
                                    <th>Diagnosed Date & Time</th>
                                    <th class="text-right" data-sort-ignore="true">Action</th>

                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- /PATIENT LIST FOR CURRENT DAY -->
    </div>

    <!-- MODAL PERSON RESULT DIAGNOSIS -->
    <div id="personDiagnosis_modal" class="modal fade" data-focus="false" role="dialog" aria-hidden="true">
        <div class="modal-dialog  modal-lg">
            <div class="modal-content">
                <div class="modal-header blue-bg">
                    <button type="button" class="close" data-dismiss="modal">×</button>
                    <p class="modal-title text-center">MEDICAL DIAGNOSIS</p>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-3 col-md-3">
                            <div class="form-group">
                                <label class="control-label" for="lastName">Last name</label>
                                <input type="text" id="lastName" name="lastName" ng-model="resultDiag.info.lastName" class="form-control text-center" readonly />
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3">
                            <div class="form-group">
                                <label class="control-label" for="firstName">First name</label>
                                <input type="text" id="firstName" name="firstName" ng-model="resultDiag.info.firstName" class="form-control text-center" readonly />
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3">
                            <div class="form-group">
                                <label class="control-label" for="middleName">Middle name</label>
                                <input type="text" id="middleName" name="middleName" ng-model="resultDiag.info.middleName" class="form-control text-center" readonly />
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3">
                            <div class="form-group">
                                <label class="control-label" for="extName">Ext. name</label>
                                <input type="text" id="extName" name="extName" ng-model="resultDiag.info.extName" class="form-control text-center" readonly />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 col-md-4">
                            <div class="form-group">
                                <label class="control-label" for="birthdate">Birthday</label>
                                <input type="text" id="birthdate" name="birthdate" ng-model="resultDiag.info.birthdate" class="form-control text-center" readonly />
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4">
                            <div class="form-group">
                                <label class="control-label" for="sex">Sex</label>
                                <input type="text" id="sex" name="sex" ng-model="resultDiag.info.sex" class="form-control text-center" readonly />
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4">
                            <div class="form-group">
                                <label class="control-label" for="contactNo">Contact no.</label>
                                <input type="text" id="contactNo" name="contactNo" ng-model="resultDiag.info.contactNo" class="form-control text-center" readonly />
                            </div>
                        </div>
                    </div>

                    <ul class="nav nav-tabs">
                        <li class="active"><a class="text-primary" data-toggle="tab" href="#tab-MDresult"><i class="fa fa-stethoscope"></i> Diagnosis </a></li>
                        <li class=""><a data-toggle="tab" href="#tab-MPresult"><i class="fa fa-medkit"></i> Prescription</a></li>
                    </ul>
                    <div class="tab-content ">
                        <div id="tab-MDresult" class="tab-pane active">
                            <form id="edit_diagnosis_form" name="edit_diagnosis_form">
                                <br />
                                <div class="row">
                                    <!-- VITAL SIGNS HISTORY -->
                                    <div class="col-sm-4">
                                        <p class="blue-bg text-center" style="width: 100%;"> VITAL SIGNS </p>
                                        <div class="row">
                                            <div class="col-xs-6"><label class="form-control" style="background: aliceblue;">Ht: {{resultDiag.vitalSign.height}}m</label></div>
                                            <div class="col-xs-6"><label class="form-control" style="background: aliceblue;">Wt: {{resultDiag.vitalSign.weight}}kg</label></div>
                                        </div>
                                        <div class="table-wrapper-scroll-y my-custom-scrollbar">
                                            <table class="table table-stripped">
                                                <thead>
                                                    <tr>

                                                        <th>Temp.</th>
                                                        <th>BP</th>
                                                        <th>Pulse Rate</th>
                                                        <th>Date & Time</th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr class="text-center" ng-show="bpLoader">
                                                        <td colspan="6">
                                                            <div class="sk-spinner sk-spinner-double-bounce">
                                                                <div class="sk-double-bounce1"></div>
                                                                <div class="sk-double-bounce2"></div>
                                                            </div>
                                                            <text><i>Please wait, we are loading your data...</i></text>
                                                        </td>
                                                    </tr>
                                                    <tr class="text-center" ng-show="bpHistoryList.length == 0 && bpLoader == false">
                                                        <td colspan="6">
                                                            <label class="text-danger">NO INFORMATION FOUND!</label>
                                                        </td>
                                                    </tr>
                                                    <tr ng-repeat="vs in resultDiag.bp">
                                                        <td>{{vs.temperature}}</td>
                                                        <td>{{vs.systolic}}/{{vs.diastolic}}</td>
                                                        <td>{{vs.pulseRate}}</td>
                                                        <td>{{vs.dateTimeLog }}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <!-- /VITAL SIGNS HISTORY -->
                                    <!-- EDITTING DIAGNOSIS FORM-->
                                    <div class="col-sm-8">
                                        <p class="blue-bg text-center" style="width: 100%;"> DIAGNOSIS </p>
                                        <div class="col-sm-6 col-xs-6">
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG005" value="Gastritis" ng-model="resultDiag.diag.DIAG005" ng-disabled="!isEditting">
                                                <label for="edit_DIAG005"> Acute Gastritis </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG006" value="Gastroenteritis" ng-model="resultDiag.diag.DIAG006" ng-disabled="!isEditting">
                                                <label for="edit_DIAG006"> Acute Gastroenteritis </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG018" value="Tonsillopharyngitis" ng-model="resultDiag.diag.DIAG018" ng-disabled="!isEditting">
                                                <label for="edit_DIAG018"> Acute Tonsillopharyngitis </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG003" value="Rhinitis" ng-model="resultDiag.diag.DIAG003" ng-disabled="!isEditting">
                                                <label for="edit_DIAG003"> Allergic Rhinitis </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG008" value="Amoebiasis" ng-model="resultDiag.diag.DIAG008" ng-disabled="!isEditting">
                                                <label for="edit_DIAG008"> Amoebiasis </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG021" value="Arthritis" ng-model="resultDiag.diag.DIAG021" ng-disabled="!isEditting">
                                                <label for="edit_DIAG021"> Arthritis </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG010" value="BPH" ng-model="resultDiag.diag.DIAG010" ng-disabled="!isEditting">
                                                <label for="edit_DIAG010"> BPH </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG004" value="Asthma" ng-model="resultDiag.diag.DIAG004" ng-disabled="!isEditting">
                                                <label for="edit_DIAG004"> Bronchial Asthma </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG011" value="Dermatitis" ng-model="resultDiag.diag.DIAG011" ng-disabled="!isEditting">
                                                <label for="edit_DIAG011"> Contact Dermatitis </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG014" value="Diabetes" ng-model="resultDiag.diag.DIAG014" ng-disabled="!isEditting">
                                                <label for="edit_DIAG014"> Diabetes Mellitus </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG012" value="Eczema" ng-model="resultDiag.diag.DIAG012" ng-disabled="!isEditting">
                                                <label for="edit_DIAG012"> Eczema </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG020" value="Furuncle" ng-model="resultDiag.diag.DIAG020" ng-disabled="!isEditting">
                                                <label for="edit_DIAG020"> Furuncle/Carbuncle </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG028" value="Gastritis" ng-model="resultDiag.diag.DIAG028" ng-disabled="!isEditting">
                                                <label for="edit_DIAG028"> Gastritis </label>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-xs-6">
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG007" value="GERD" ng-model="resultDiag.diag.DIAG007" ng-disabled="!isEditting">
                                                <label for="edit_DIAG007"> GERD </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG015" value="Hyperlipidemia" ng-model="resultDiag.diag.DIAG015" ng-disabled="!isEditting">
                                                <label for="edit_DIAG015"> Hyperlipidemia </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG013" value="Hypertension" ng-model="resultDiag.diag.DIAG013" ng-disabled="!isEditting">
                                                <label for="edit_DIAG013"> Hypertension </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG016" value="Hyperuricemia" ng-model="resultDiag.diag.DIAG016" ng-disabled="!isEditting">
                                                <label for="edit_DIAG016"> Hyperuricemia </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG019" value="spasm" ng-model="resultDiag.diag.DIAG019" ng-disabled="!isEditting">
                                                <label for="edit_DIAG019"> Musculoskeletal spasm </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG022" value="Neuropathy" ng-model="resultDiag.diag.DIAG022" ng-disabled="!isEditting">
                                                <label for="edit_DIAG022"> Peripheral Neuropathy </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG002" value="Pneumonia" ng-model="resultDiag.diag.DIAG002" ng-disabled="!isEditting">
                                                <label for="edit_DIAG002"> Pneumonia </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG026" value="SystemicIllness" ng-model="resultDiag.diag.DIAG026" ng-disabled="!isEditting">
                                                <label for="edit_DIAG026"> Systemic Viral Illness </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG017" value="Headache" ng-model="resultDiag.diag.DIAG017" ng-disabled="!isEditting">
                                                <label for="edit_DIAG017"> Tension Headache </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG027" value="Tuberculosis" ng-model="resultDiag.diag.DIAG027" ng-disabled="!isEditting">
                                                <label for="edit_DIAG027"> Tuberculosis </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG025" value="LowRespiratory" ng-model="resultDiag.diag.DIAG025" ng-disabled="!isEditting">
                                                <label for="edit_DIAG025"> Lower Respiratory Tract Infection </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG001" value="Respiratory" ng-model="resultDiag.diag.DIAG001" ng-disabled="!isEditting">
                                                <label for="edit_DIAG001"> Upper Respiratory Tract Infection </label>
                                            </div>
                                            <div class="checkbox checkbox-danger">
                                                <input type="checkbox" id="edit_DIAG009" value="Urinary" ng-model="resultDiag.diag.DIAG009" ng-disabled="!isEditting">
                                                <label for="edit_DIAG009"> Urinary Tract Infection </label>
                                            </div>
                                        </div>

                                        <div class="col-lg-12">
                                            <div class="row">
                                                <div class="col-lg-3 col-md-3">
                                                    <div class="checkbox checkbox-danger">
                                                        <input type="checkbox" id="edit_DIAG023" value="Others" ng-model="resultDiag.diag.DIAG023" ng-change="resultDiag.diag.DIAG023 == false ? resultDiag.otherDiagnosis = '':''" ng-disabled="!isEditting">
                                                        <label for="edit_DIAG023"> Others </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-9 col-md-9">
                                                    <div class="form-group">
                                                        <input type="text" id="otherDiagnosis" name="otherDiagnosis" ng-model="resultDiag.otherDiagnosis" ng-disabled="resultDiag.diag.DIAG023 == false || resultDiag.diag.DIAG023 == undefined || !isEditting" placeholder="Identify diagnosis here..." class="form-control" ng-required="resultDiag.diag.DIAG023" />
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                        <div class="form-group col-lg-12 col-md-12">
                                            <label class="control-label" for="remarks">Remarks</label>
                                            <input type="text" id="remarks" name="remarks" ng-model="resultDiag.info.remarks" class="form-control" placeholder="Remarks here..." ng-disabled="!isEditting" />
                                        </div>
                                    </div>
                                    <!-- /EDITTING DIAGNOSIS FORM -->
                                </div>

                                <!-- EDITTING REFERRAL FORM -->
                                <div class="row">
                                    <div class="col-lg-12">
                                        <p class="blue-bg text-center" style="width: 100%;"> REFERRAL </p>
                                    </div>
                                    @*<div class="col-lg-4 col-md-4">
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_SERVICE003" value="Diet" ng-model="resultDiag.ref.SERVICE003" ng-disabled="!isEditting || resultDiag.refIsEncoded.SERVICE003isEncoded">
                                            <label for="edit_SERVICE003"> Diet Counseling </label>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-4">
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_SERVICE004" value="MRH" ng-model="resultDiag.ref.SERVICE004" ng-disabled="!isEditting || resultDiag.refIsEncoded.SERVICE004isEncoded">
                                            <label for="edit_SERVICE004"> Male Reproductive Health </label>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-4">
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_SERVICE005" value="Papsmear" ng-model="resultDiag.ref.SERVICE005" ng-disabled="!isEditting || resultDiag.refIsEncoded.SERVICE005isEncoded">
                                            <label for="edit_SERVICE005"> Papsmear & Breast Exam </label>
                                        </div>
                                    </div>*@
                                    <div class="col-lg-12">
                                        <div class="row">
                                            <div class="col-lg-3 col-md-3">
                                                <div class="checkbox checkbox-danger">
                                                    <input type="checkbox" id="edit_DIAG024" value="Refer" ng-model="resultDiag.diag.DIAG024" ng-change="resultDiag.diag.DIAG024 == false ? resultDiag.info.outsideReferral = '':''" ng-disabled="!isEditting">
                                                    <label for="edit_DIAG024"> Refer to Health Facility </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-9 col-md-9">
                                                <div class="form-group">
                                                    <input type="text" id="referDesc" name="referDesc" ng-model="resultDiag.info.outsideReferral" ng-disabled="resultDiag.diag.DIAG024 == false || resultDiag.diag.DIAG024 == undefined || !isEditting" placeholder="Identify referral info here..." class="form-control" ng-required="resultDiag.diag.DIAG024" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- /EDITTING REFERRAL FORM -->
                                <!-- EDITTING LABORATORY FORM -->
                                <div class="row">
                                    <div class="col-lg-12">
                                        <p class="blue-bg text-center" style="width: 100%;"> LABORATORY </p>
                                    </div>
                                    <div class="col-lg-3 col-md-3">
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_L0002" value="L0002" ng-model="resultDiag.laboratory.L0002" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0002isEncoded">
                                            <label for="edit_L0002"> CBC </label>
                                        </div>
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_L0001" value="L0001" ng-model="resultDiag.laboratory.L0001" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0001isEncoded">
                                            <label for="edit_L0001"> Urinalysis </label>
                                        </div>
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_L0003" value="L0003" ng-model="resultDiag.laboratory.L0003" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0003isEncoded">
                                            <label for="edit_L0003"> Fecalysis </label>
                                        </div>
                                    </div>
                                    <div class="col-lg-3 col-md-3">
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_L0005" value="L0005" ng-model="resultDiag.laboratory.L0005" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0005isEncoded">
                                            <label for="edit_L0005"> FBS </label>
                                        </div>
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_L0009" value="L0009" ng-model="resultDiag.laboratory.L0009" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0009isEncoded">
                                            <label for="edit_L0009"> Creatinine </label>
                                        </div>
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_L0007" value="L0007" ng-model="resultDiag.laboratory.L0007" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0007isEncoded">
                                            <label for="edit_L0007"> Lipid Profile </label>
                                        </div>
                                    </div>
                                    <div class="col-lg-3 col-md-3">
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_L0010" value="L0010" ng-model="resultDiag.laboratory.L0010" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0010isEncoded">
                                            <label for="edit_L0010"> Uric Acid </label>
                                        </div>
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_L0011" value="L0011" ng-model="resultDiag.laboratory.L0011" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0011isEncoded">
                                            <label for="edit_L0011"> SGPT </label>
                                        </div>
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_L0012" value="L0012" ng-model="resultDiag.laboratory.L0012" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0012isEncoded">
                                            <label for="edit_L0012"> SGOT </label>
                                        </div>
                                    </div>
                                    <div class="col-lg-3 col-md-3">
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_L0008" value="L0008" ng-model="resultDiag.laboratory.L0008" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0008isEncoded">
                                            <label for="edit_L0008"> Serum Electrolytes </label>
                                        </div>
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_L0025" value="edit_L0025" ng-model="resultDiag.laboratory.L0025" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0025isEncoded">
                                            <label for="edit_L0025"> HbA1c </label>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <hr style="margin: 7px 0px 15px 0px;" />
                                    </div>
                                    <div class="col-lg-6 col-md-6">
                                        <div class="row">
                                            <div class="col-lg-4 col-md-4">
                                                <div class="checkbox checkbox-danger">
                                                    <input type="checkbox" id="edit_L0006" value="L0006" ng-model="resultDiag.laboratory.L0006" ng-change="resultDiag.laboratory.L0006 == false ? resultDiag.xrayDesc = '':''" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0006isEncoded">
                                                    <label for="edit_L0006"> X-ray </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-8 col-md-8">
                                                <div class="form-group">
                                                    <input type="text" id="xrayDesc" name="xrayDesc" ng-model="resultDiag.xrayDesc" ng-disabled="resultDiag.laboratory.L0006 == false || resultDiag.laboratory.L0006 == undefined || !isEditting || resultDiag.labIsEncoded.L0006isEncoded" placeholder="Identify other x-ray here..." class="form-control" ng-required="resultDiag.laboratory.L0006" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-4 col-md-4">
                                                <div class="checkbox checkbox-danger">
                                                    <input type="checkbox" id="edit_L0004" value="L0004" ng-model="resultDiag.laboratory.L0004" ng-change="resultDiag.laboratory.L0004 == false ? resultDiag.ecgDesc = '':''" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0004isEncoded">
                                                    <label for="edit_L0004"> ECG </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-8 col-md-8">
                                                <div class="form-group">
                                                    <input type="text" id="ecgDesc" name="ecgDesc" ng-model="resultDiag.ecgDesc" ng-disabled="resultDiag.laboratory.L0004 == false || resultDiag.laboratory.L0004 == undefined || !isEditting || resultDiag.labIsEncoded.L0004isEncoded" placeholder="Identify other ECG here..." class="form-control" ng-required="resultDiag.laboratory.L0004" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6">
                                        <div class="row">
                                            <div class="col-lg-4 col-md-4">
                                                <div class="checkbox checkbox-danger">
                                                    <input type="checkbox" id="edit_L0023" value="L0023" ng-model="resultDiag.laboratory.L0023" ng-change="resultDiag.laboratory.L0023 == false ? resultDiag.ultrasoundDesc = '':''" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0023isEncoded">
                                                    <label for="edit_L0023"> Ultrasound </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-8 col-md-8">
                                                <div class="form-group">
                                                    <input type="text" id="ultrasoundDesc" name="ultrasoundDesc" ng-model="resultDiag.ultrasoundDesc" ng-disabled="resultDiag.laboratory.L0023 == false || resultDiag.laboratory.L0023 == undefined || !isEditting || resultDiag.labIsEncoded.L0023isEncoded" placeholder="Identify other Ultrasound here..." class="form-control" ng-required="resultDiag.laboratory.L0023" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="checkbox checkbox-danger">
                                            <input type="checkbox" id="edit_L0024" value="L0024" ng-model="resultDiag.laboratory.L0024" ng-disabled="!isEditting || resultDiag.labIsEncoded.L0024isEncoded">
                                            <label for="edit_L0024"> 2D Echocardiography </label>
                                        </div>
                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <hr style="margin: 7px 0px 15px 0px;" />
                                        </div>
                                        <div class="col-lg-12">
                                            @*<div ng-show="resultDiag.setLabSched.isNeededLab">*@

                                            @*<div ng-class="labSchedInfo.hospitalID == 'HPL004' ? 'col-lg-12 col-md-12 col-sm-12 col-xs-12' : 'col-lg-8 col-md-8 col-sm-12 col-xs-12'">
                                                <div class="form-group">
                                                    <label class="control-label" for="hospitalID">Hospital</label>
                                                    <select name="hospitalID" id="hospitalID" style="width: 100%; text-transform : uppercase" ng-model="labSchedInfo.hospitalID" ng-change="selectHospital(labSchedInfo.hospitalID, false)" class="form-control" ng-required="checkLabList > 0">
                                                        <option value="">- Select Hospital -</option>
                                                        <option ng-repeat="item in hospitalList" value="{{item.hospitalID}}">{{item.hospitalName}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div ng-show="labSchedInfo.hospitalID != 'HPL004'" class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                                <div class="form-group">
                                                    <label class="control-label" for="labSchedule">Lab Schedule</label>
                                                    <div class="datePicker flatpickr">
                                                        <div class="input-group">
                                                            <input style="background-color: white !important;" type="text" class="form-control" placeholder="Select Date.." ng-model="labSchedInfo.labSchedule" data-input> <span class="input-group-btn">
                                                                <button id="btnClearSched" type="button" class="btn btn-default" title="clear" data-clear>
                                                                    <i class="fa fa-close text-danger"></i>
                                                                </button>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>*@


                                            <div>
                                                <div ng-class="resultDiag.setLabSched.hospitalID == 'HPL004' ? 'col-lg-12 col-md-12 col-sm-12 col-xs-12' : 'col-lg-8 col-md-8 col-sm-12 col-xs-12'">
                                                    <div class="form-group">
                                                        <label class="control-label" for="hospitalID">Hospital</label>
                                                        <select name="hospitalID" id="hospitalID" style="width: 100%; text-transform : uppercase" ng-model="resultDiag.setLabSched.hospitalID" ng-change="selectHospital(resultDiag.setLabSched.hospitalID, true)" class="form-control"
                                                                @*ng-required="resultDiag.setLabSched.isNeededLab"*@
                                                                ng-disabled="!isEditting">
                                                            <option value="">- Select Hospital -</option>
                                                            <option ng-repeat="item in hospitalList" value="{{item.hospitalID}}">{{item.hospitalName}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div ng-show="resultDiag.setLabSched.hospitalID != 'HPL004'" class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                                    <div class="form-group">
                                                        <label class="control-label" for="labSchedule">Lab Schedule</label>
                                                        <div class="datePicker_modal flatpickr">
                                                            <div class="input-group">
                                                                <input style="background-color: white;" type="text" class="form-control" placeholder="Select Date.." ng-model="resultDiag.setLabSched.labSchedule" data-input ng-disabled="!isEditting" ng-style="{ 'background-color': isEditting ? 'white' : '#eee' }"> <span class="input-group-btn">
                                                                    <button id="btnClearSched" type="button" class="btn btn-default" title="clear" data-clear ng-disabled="!isEditting">
                                                                        <i class="fa fa-close text-danger"></i>
                                                                    </button>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- /EDITTING LABORATORY FORM -->

                                <div class="panel-footer" style="background-color: white;">
                                    <div class="pull-right">
                                        <button type="submit" class="btn btn-primary" ng-show="isEditting" ng-click="!edit_diagnosis_form.$invalid ? saveUpdate(resultDiag) : ''">Save changes</button>
                                        <button type="button" class="btn" ng-class="isEditting ? 'btn-danger':'btn-success'" ng-click="isEditting = !isEditting">{{isEditting ? 'Cancel' : 'Edit Diagnosis'}}</button>
                                        <button type="button" class="btn btn-white" data-dismiss="modal" ng-show="!isEditting">Close</button>
                                    </div>
                                </div>
                            </form>
                            <br />
                        </div>
                        <div id="tab-MPresult" class="tab-pane">
                            <br />
                            <div ng-show="isShowEditRxForm">
                                <div class="table-wrapper-scroll-y my-custom-scrollbar">
                                    <table class="table table-stripped table-hover" style="width: 100%;">
                                        <thead class="blue-bg">
                                            <tr>
                                                <td>MEDICINE NAME</td>
                                                <td>FREQUENCY</td>
                                                <td># DAYS</td>
                                                <td>QTY</td>
                                                <td>NOTE/INSTRUCTION</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="text-center" ng-show="rxHistory.length == 0">
                                                <td colspan="4">
                                                    <span class="text-danger"><label><i>No record found</i></label></span>
                                                </td>
                                            </tr>
                                            <tr ng-repeat="rx in rxHistory">
                                                <td>{{rx.productDesc}} {{rx.measurementDesc}}</td>
                                                <td>{{rx.dosage}} {{rx.unitDesc}} x {{rx.perDay}} a Day</td>
                                                <td>{{rx.noDay == 'maintenance' ? 'as Maintenance':rx.noDay == 'needed' ? 'as Needed':rx.noDay == 'single' ? 'Single Dose':rx.noDay + ' Day/s'}}</td>
                                                <td>{{rx.qtyRx}} {{rx.unitDesc == 'Suspension' || rx.unitDesc == 'Syrup' || rx.unitDesc == 'Drops' || rx.unitDesc == 'Bottle' ? 'Bottle/s':rx.unitDesc == 'Cream' ? 'Tube':''}}</td>
                                                <td>{{rx.note}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="panel-footer" style="background-color: white;">
                                    <div class="pull-right">
                                        <button type="button" class="btn btn-success" ng-click="enableRxEditting()">Edit Prescription</button>
                                        <button type="button" class="btn btn-white" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                            <div ng-show="!isShowEditRxForm">
                                <div class="row">
                                    <div class="col-lg-4 col-md-4">
                                        <div class="panel panel-success">
                                            <div class="panel-heading text-center">
                                                <label class="text-center">DRUGS & MEDICINES</label><a id="refetchMeds_modal" ng-click="refetchMeds_modal()" style="float: right; font-size: medium; color: white;"><i class="fa fa-refresh"></i></a>
                                            </div>
                                            <div class="panel-body">
                                                <form id="rxEdit_form" name="rxEdit_form" novalidate>
                                                    <div class="form-group">
                                                        <label class="control-label" for="productCode_Edit">Item</label>
                                                        <select name="productCode_Edit" id="productCode_Edit" ng-model="medsEdit.product" ng-change="onChangeMed(medsEdit.product)" style="width: 100%; text-transform : uppercase" class="form-control" required>
                                                            <option value=""></option>
                                                            <option ng-repeat="med in medList" value={{med}}>{{med.productDesc}} {{med.measurementDesc}} {{med.unitDesc}}</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label" for="dosage">Frequency</label>
                                                        <div class="form-inline">
                                                            <div class="input-group m-b" style="width: 100%">
                                                                <input type="number" min="0.01" step="0.01" id="dosage" name="dosage" required ng-model="medsEdit.dosage" placeholder="e.g. 10" class="form-control text-center" />
                                                                <span class="input-group-addon"><b>{{unitEdit.unitDesc == 'Suspension' || unitEdit.unitDesc == 'Syrup' || unitEdit.unitDesc == 'Drops' ? 'ML' : unitEdit.unitDesc == 'Tablet' || unitEdit.unitDesc == 'Softgel' ? 'Tablet/s' : unitEdit.unitDesc == 'Capsule' ? 'Capsule/s' : unitEdit.unitDesc == 'Nebule'? unitEdit.unitDesc : unitEdit.unitDesc == 'Cream' ? 'Apply' : unitEdit.unitDesc == 'Respule' ? unitEdit.unitDesc : unitEdit.unitDesc == 'Sachet' ? unitEdit.unitDesc : unitEdit.unitDesc}}</b></span>
                                                            </div>
                                                            <div class="input-group m-b" style="width: 100%">
                                                                <input type="number" min="1" onkeydown="return event.keyCode !== 190" id="perDay" name="perDay" required ng-model="medsEdit.perDay" placeholder="e.g. 5" class="form-control text-center" /> <span class="input-group-addon"><i class="fa fa-times text-danger"></i><b> a Day</b></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label" for="noDay_Edit">No. of Days</label>
                                                        <select name="noDay_Edit" id="noDay_Edit" ng-model="medsEdit.noDay" ng-change="onChangeNoDay(medsEdit.noDay)" style="width: 100%; text-transform : uppercase" class="form-control" required>
                                                            <option value=""></option>
                                                            <option value="maintenance">As Maintenance</option>
                                                            <option value="needed">As Needed</option>
                                                            <option value="single">Single Dose</option>
                                                            <option value=1>1 Day</option>
                                                            <option value=2>2 Days</option>
                                                            <option value=3>3 Days</option>
                                                            <option value=4>4 Days</option>
                                                            <option value=5>5 Days</option>
                                                            <option value=7>7 Days</option>
                                                            <option value=10>10 Days</option>
                                                            <option value=14>14 Days</option>
                                                        </select>
                                                    </div>
                                                    <div ng-show="showRxQtyEdit" class="form-group">
                                                        <label class="control-label" for="noDay">Qty</label>
                                                        <div class="input-group m-b col-lg-5" style="width: 100%">
                                                            <input type="number" min="1" step="1" id="inputQTY" name="inputQTY" ng-model="medsEdit.inputQTY" placeholder="e.g. 10" class="form-control  text-center" ng-required="showRxQtyEdit" />
                                                            <span class="input-group-addon"><b>{{unitEdit.unitDesc == 'Suspension' || unitEdit.unitDesc == 'Syrup' || unitEdit.unitDesc == 'Drops' || unitEdit.unitDesc == 'Bottle' ? 'Bottle/s' : unitEdit.unitDesc == 'Tablet' || unitEdit.unitDesc == 'Softgel' ? 'Tablet/s' : unitEdit.unitDesc == 'Capsule' ? 'Capsule/s' : unitEdit.unitDesc == 'Nebule'? unit.unitDesc : unitEdit.unitDesc == 'Cream' ? 'Apply' : unitEdit.unitDesc == 'Respule' ? unitEdit.unitDesc : unitEdit.unitDesc == 'Sachet' ? unitEdit.unitDesc:''}}</b></span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label" for="note">Note/Instruction</label>
                                                        <input type="text" id="note" name="note" ng-model="medsEdit.note" class="form-control text-center" />
                                                    </div>
                                                    <button class="btn btn-success pull-right " type="submit" ng-disabled="rxEdit_form.$invalid" ng-click="addMedToEditList(medsEdit)"><i class="fa fa-plus"></i> Add to Rx </button>
                                                </form>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="col-lg-8 col-md-8">
                                        <div class="panel panel-success">
                                            <div class="panel-heading text-center">
                                                <label class="text-center">MEDICAL PRESCRIPTION</label>
                                            </div>
                                            <div class="panel-body">
                                                <div class="table-wrapper-scroll-y my-custom-scrollbar">
                                                    <table class="table table-stripped table-hover" style="width: 100%;">
                                                        <thead>
                                                            <tr>

                                                                <th class="">#</th>
                                                                <th>Name</th>
                                                                <th>Frequency</th>
                                                                <th># Days</th>
                                                                <th>Qty</th>
                                                                <th>Note/Instruction</th>
                                                                <th class="text-right">Action</th>

                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-repeat="item in RxList">
                                                                <td>{{$index + 1}}</td>
                                                                <td><b>{{item.productDesc}}</b></td>
                                                                <td>
                                                                    {{item.dosage}}
                                                                    {{item.unitDesc == 'Suspension' || item.unitDesc == 'Syrup' || item.unitDesc == 'Drops' ? 'ML':item.unitDesc == 'Tablet' || item.unitDesc == 'Softgel' ? 'Tablet/s':item.unitDesc == 'Capsule' ? 'Capsule/s':item.unitDesc == 'Nebule'? item.unitDesc:item.unitDesc == 'Cream' ? 'Apply':item.unitDesc == 'Respule' ? item.unitDesc:item.unitDesc == 'Sachet' ? 'Sachet dilluted in 240ml water':''}},
                                                                    {{item.perDay}} x a Day
                                                                </td>
                                                                <td>{{item.noDay == 'maintenance' ? 'as Maintenance':item.noDay == 'needed' ? 'as Needed':item.noDay == 'single' ? 'Single Dose':item.noDay + ' Day/s'}}</td>
                                                                <td><b>{{item.qtyRx}} {{item.unitDesc == 'Suspension' || item.unitDesc == 'Syrup' || item.unitDesc == 'Drops' || item.unitDesc == 'Bottle' ? 'Bottle/s':item.unitDesc == 'Cream' ? 'Tube':''}}</b></td>
                                                                <td><b>{{item.note}}</b></td>
                                                                <td class="text-right">
                                                                    <div class="btn-group">
                                                                        <button class="btn-danger btn btn-xs" ng-disabled="item.isRelease" ng-click="removeMedicine($index)"> Remove <i class="fa fa-trash"></i></button>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel-footer" style="background-color: white;">
                                    <div class="pull-right">
                                        <button type="button" class="btn btn-primary" ng-click="updatePrescription(RxList)">Save changes</button>
                                        <button type="button" class="btn btn-danger" ng-click="isShowEditRxForm = !isShowEditRxForm">Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <br />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /MODAL PERSON RESULT DIAGNOSIS  -->
    
    <!-- MODAL SELECT PATIENT -->
    <div class="modal fade" id="modalPatient">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ng-click="resetModal()">&times;</button>
                    <h4 class="modal-title text-center">Search Employee</h4>
                </div>
                <div class="modal-body" style="height: 100%;">
                    <form id="INFO_FORM" name="INFO_FORM">
                        <div class="row">
                            <div class="col-sm-5">
                                <div class="form-group">
                                    <input type="text" id="info_lastName" name="info_lastName" ng-model="infoFormData.lastName" placeholder="Last name" class="form-control text-center" />
                                </div>
                            </div>
                            <div class="col-sm-5">
                                <div class="form-group">
                                    <input type="text" id="info_firstName" name="info_firstName" ng-model="infoFormData.firstName" placeholder="First name" class="form-control text-center" />
                                </div>
                            </div>
                            <div class="col-sm-2">
                                <button class="btn btn-primary full-width" ng-disabled="INFO_FORM.$invalid" ng-click="mainSearchByName(infoFormData)"><i class="fa fa-search"></i> Search </button>
                            </div>
                        </div>
                    </form>
                    <hr />
                    <div class="table-wrapper-scroll-y my-custom-scrollbar" style="height: 300px !important;">
                        <table class="table table-stripped table-bordered">
                            <thead>
                                <tr>
                                    <th>Last name</th>
                                    <th>First name</th>
                                    <th>Middle name</th>
                                    <th>Sex</th>
                                    <th>Birthday</th>
                                    <th class="text-center">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="text-center" ng-show="modal_tableLoader">
                                    <td colspan="6">
                                        <div class="sk-spinner sk-spinner-double-bounce">
                                            <div class="sk-double-bounce1"></div>
                                            <div class="sk-double-bounce2"></div>
                                        </div>
                                        <text><i>Please wait, we are loading your data...</i></text>
                                    </td>
                                </tr>
                                <tr class="text-center" ng-show="searchResultList.length == 0 && modal_tableLoader == false">
                                    <td colspan="6">
                                        <text>NO INFORMATION FOUND!</text>
                                    </td>
                                </tr>
                                <tr ng-repeat="person in searchResultList | orderBy: 'firstName'">
                                    <td>{{person.lastName}}</td>
                                    <td>{{person.firstName}}</td>
                                    <td>{{person.middleName}}</td>
                                    <td>{{person.sex == 'MALE' ? 'M' : person.sex == 'FEMALE' ? 'F' : ''}}</td>
                                    <td>{{person.birthDate}}</td>
                                    <td class="text-center">
                                        <button class="btn btn-sm btn-success" ng-click="selectEmp(person)">Select</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /MODAL SELECT PATIENT -->

    @*MODAL LAB RESULT*@
    <div class="modal fade" id="modalLabResult">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title text-center">{{modalTitle}}</h4>
                </div>
                <div class="modal-body" style="height: 100%;">
                    <div class="text-center" ng-show="labResultLoader">
                        <div class="sk-spinner sk-spinner-double-bounce">
                            <div class="sk-double-bounce1"></div>
                            <div class="sk-double-bounce2"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4 col-xs-4">
                            <button class="btn btn-outline btn-primary pull-left" ng-click="navLabImg('prev')"><i class="fa fa-caret-left"></i> Prev</button>
                        </div>
                        <div class="col-sm-4 col-xs-4 text-center">
                            <label>{{currentImgIndex + 1}} of {{imgCount}} Images</label>
                        </div>
                        <div class="col-sm-4 col-xs-4">
                            <button class="btn btn-outline btn-primary pull-right" ng-click="navLabImg('next')">Next <i class="fa fa-caret-right"></i></button>
                        </div>
                    </div>
                    <br />
                    <div id="labResult" ng-show="!labResultLoader" style="height:100%; width:100%;" class="img-responsive avatar-view"></div>
                </div>
            </div>
        </div>
    </div>
    @*MODAL LAB RESULT*@

</div>

@section scripts
{
    <script src="~/Scripts/AngularJS/MedicalConsultation/MedicalConsultation.js?v=1.1"></script>
    <script src="~/Content/Daypilot-Calendar/scripts/daypilot-all.min.js"></script>
    <script src="~/Content/Flatpickr-DatePicker/flatpickr.js"></script>
}